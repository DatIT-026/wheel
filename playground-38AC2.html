<html>
    <head>
        <title>FireHelper - Playground</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" href="main.css" type="text/css" />
        <link type="icon/x-icon" href="favicon.png" rel="shortcut icon" />
        <script type="text/javascript" src="Winwheel.min.js"></script>
        <script src="TweenMax.min.js"></script>
    </head>
    <body>
        <center>
            <h1 style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif';">V√≤ng quay may m·∫Øn</h1>
            <h3 style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; color: red;">üí• X√°c su·∫•t nh·∫≠n ƒë∆∞·ª£c Florentino gi√°m s√°t tinh h·ªá l√™n ƒë·∫øn 99‚Ä∞. Ch√∫c m·ª´ng sinh nh·∫≠t üí•</h3>
            <p style="font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif'"><i>V√≤ng quay ch·ªâ m·ªü khi c√≥ nh·ªØng s·ª± ki·ªán ƒë·∫∑c bi·ªát do DatIT r·∫£nh qu√° n√™n m·ªõi l√†m :)))</i></p>
        </center>
        
        <div align="center">
            <table cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td>
                        <button id="spin_start" class="btn" onClick="startSpin();">Quay ngay</button>
                        <button id="spin_stop" class="btn" onClick="stopSpin();">D·ª´ng l·∫°i</button>
                        <button id="spin_reset" class="btn" onClick="resetWheel();">Quay l·∫°i</button>
                    </td>
                    <td width="438" height="582" class="the_wheel" align="center" valign="center">
                        <canvas id="canvas" width="434" height="434">
                            <p style="{color: white}" align="center">Sorry, your browser doesn't support canvas. Please try another.</p>
                        </canvas>
                    </td>
                </tr>
            </table>
        </div>
        <script>
            //Th√¥ng s·ªë v√≤ng quay
            let duration = 2; //Th·ªùi gian k·∫øt th√∫c v√≤ng quay
            let spins    = 3; //Quay nhanh hay ch·∫≠m 3, 8, 15
            let theWheel = new Winwheel({
                'numSegments'  : 6,     // Chia 8 ph·∫ßn b·∫±ng nhau
                'outerRadius'  : 212,   // ƒê·∫∑t b√°n k√≠nh v√≤ng quay
                'textFontSize' : 18,    // ƒê·∫∑t k√≠ch th∆∞·ªõc ch·ªØ
                'rotationAngle': 0,     // ƒê·∫∑t g√≥c v√≤ng quay t·ª´ 0 ƒë·∫øn 360 ƒë·ªô.
                'segments'     :        // C√°c th√†nh ph·∫ßn bao g·ªìm m√†u s·∫Øc v√† vƒÉn b·∫£n.
                [
                   {'fillStyle' : '#7de7af', 'text' : 'Alice b√© G·∫•u Tuy·∫øt'},
                   //{'fillStyle' : '#ff00ff', 'text' : '1 ly tr√† s·ªØa'},
                   {'fillStyle' : '#ff0000', 'text' : 'Nothing'},
                   {'fillStyle' : '#73deef', 'text' : '1 skin <= 199QH'},
                    {'fillStyle' : '#fa5303', 'text' : '1 m√≥n ƒë·ªì ·ªü cƒÉn tin'},
                   {'fillStyle' : '#ff7f50', 'text' : 'Yan nh√† ch·∫ø t√°c'},
                   {'fillStyle' : '#ffd700', 'text' : 'Flo tinh h·ªá'},
                   {'fillStyle' : '#7de6ef', 'text' : 'Gi·∫£i 7'},
                   {'fillStyle' : '#e7706f', 'text' : 'Gi·∫£i 8'},
                ],
                'animation' : {
                    'type'     : 'spinOngoing', //spinToStop, spinOngoing
                    'duration' : duration,
                    'spins'    : spins,
                    'callbackSound'    : playSound,     //H√†m g·ªçi √¢m thanh khi quay
                    'soundTrigger'     : 'pin',         //Ch·ªâ ƒë·ªãnh ch√¢n l√† ƒë·ªÉ k√≠ch ho·∫°t √¢m thanh
                    'callbackFinished' : alertPrize,    //H√†m hi·ªÉn th·ªã k·∫øt qu·∫£ tr√∫ng gi·∫£i th∆∞·ªüng
                },
                'pins' :
                {
                    'number' : 16   //S·ªë l∆∞·ª£ng ch√¢n. Chia ƒë·ªÅu xung quanh v√≤ng quay.
                }
            });
            
            //Ki·ªÉm tra v√≤ng quay
            let wheelSpinning = false;
            
            //T·∫°o √¢m thanh v√† t·∫£i t·∫≠p tin tick.mp3.
            let audio = new Audio('tick.mp3');
            function playSound() {
                audio.pause();
                audio.currentTime = 0;
                audio.play();
            }
            
            //Hi·ªÉn th·ªã c√°c n√∫t v√≤ng quay
            function statusButton(status) {
                if ( status==1 ) { //tr∆∞·ªõc khi quay
                    document.getElementById('spin_start').classList.remove("hide");
                    document.getElementById('spin_stop').classList.add("hide");
                    document.getElementById('spin_reset').classList.add("hide");
                } else if ( status==2 ) { //ƒëang quay
                    document.getElementById('spin_start').classList.add("hide");
                    document.getElementById('spin_stop').classList.remove("hide");
                    document.getElementById('spin_reset').classList.add("hide");
                } else if ( status==3 ) { //k·∫øt qu·∫£
                    document.getElementById('spin_start').classList.add("hide");
                    document.getElementById('spin_stop').classList.add("hide");
                    document.getElementById('spin_reset').classList.remove("hide");
                } else {
                    alert('C√°c gi√° tr·ªã c·ªßa status: 1, 2, 3');
                }
            }
            statusButton(1);
            
            //startSpin
            function startSpin() {
                // Ensure that spinning can't be clicked again while already running.
                if (wheelSpinning == false) {
                    //CSS hi·ªÉn th·ªã button
                    statusButton(2);
                    
                    //C·∫•u h√¨nh v√≤ng quay
                    theWheel.animation = {
                        'type'     : 'spinOngoing',
                        'duration' : duration,
                        'spins'    : spins,
                        'callbackSound'    : playSound,     //H√†m g·ªçi √¢m thanh khi quay
                        'soundTrigger'     : 'pin',         //Ch·ªâ ƒë·ªãnh ch√¢n l√† ƒë·ªÉ k√≠ch ho·∫°t √¢m thanh
                        'callbackFinished' : alertPrize,    //H√†m hi·ªÉn th·ªã k·∫øt qu·∫£ tr√∫ng gi·∫£i th∆∞·ªüng
                    };
                    
                    //H√†m b·∫Øt ƒë·∫ßu quay
                    theWheel.startAnimation();
                }
            }
            
            //stopSpin
            function stopSpin() {
                if (wheelSpinning == false) {
                    theWheel.animation = {
                        'type'     : 'spinToStop',
                        'duration' : (duration + 13),
                        'spins'    : (spins + 1),
                        'callbackSound'    : playSound,     //H√†m g·ªçi √¢m thanh khi quay
                        'soundTrigger'     : 'pin',         //Ch·ªâ ƒë·ªãnh ch√¢n l√† ƒë·ªÉ k√≠ch ho·∫°t √¢m thanh
                        'callbackFinished' : alertPrize,    //H√†m hi·ªÉn th·ªã k·∫øt qu·∫£ tr√∫ng gi·∫£i th∆∞·ªüng
                    };
                    
                    //K·∫øt qu·∫£ ch·ªâ ƒë·ªãnh
                    stopAngle();

                    //H√†m b·∫Øt ƒë·∫ßu quay
                    theWheel.startAnimation();

                    //Kh√≥a v√≤ng quay
                    wheelSpinning = true;
                }
            }
            
            //stopAngle
            function stopAngle() {
                //Ta c√≥: 360 ƒë·ªô chia 8 b·∫±ng 45 ƒë·ªô cho m·ªói gi·∫£i th∆∞·ªüng.
                //VD: Gi·∫£i 3 => C√≥ g·ªëc ƒë·ªô t·ª´ 91 ƒë·∫øn 135.
                let start = 190;
                let stop = Math.floor((Math.random() * 44)); //Gi√° tr·ªã cao nh·∫•t 44
                let stopAt = start + stop;
                theWheel.animation.stopAngle = stopAt;
            }
            
            //Result
            function alertPrize(indicatedSegment) {
                if(indicatedSegment.text === "Nothing"){
                    alert("Ch√∫c m·ª´ng b·∫°n may m·∫Øn l·∫ßn sau");
                }
                else {
                    alert("Ch√∫c m·ª´ng b·∫°n ƒë√£ tr√∫ng: " + indicatedSegment.text);
                }
                
                //CSS hi·ªÉn th·ªã button
                statusButton(3);
            }

            //resetWheel
            function resetWheel() {
                //CSS hi·ªÉn th·ªã button
                statusButton(1);
                
                theWheel.stopAnimation(false);
                theWheel.rotationAngle = 0;
                theWheel.draw();

                wheelSpinning = false;
            }
        </script>

    <center>
    <br/>
    <h7>
        <b>L∆∞u √Ω:</b> Khu v·ª±c Playground n√†y ƒëang trong giai ƒëo·∫°n ph√°t tri·ªÉn n√™n s·∫Ω c√≥ l·ªói. Ch·ªâ 1 ng∆∞·ªùi ch∆°i v√† c≈©ng ch·ªâ ƒë∆∞·ª£c quay <b>1 l·∫ßn</b> duy nh·∫•t.
         Li√™n h·ªá <a href="https://www.facebook.com/datit.dev/">t·∫°i ƒë√¢y</a> ƒë·ªÉ ƒë∆∞·ª£c h·ªó tr·ª£ n·∫øu g·∫∑p v·∫•n ƒë·ªÅ ho·∫∑c c√≥ ph√°t sinh l·ªói.
    </h7>
        <div class="footer">
            <img src="logo.png" alt="Company Logo">
            <h3>¬© Firehelper Team 2023</h3>
          </div>
          
    </center>

    

    </body>
</html>
